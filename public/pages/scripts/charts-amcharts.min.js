var ChartsAmcharts = function() {
   
    var   l = function() {
            var sl = $("#length").val()

            for(var i= 0;i<sl;i++){
                var l = $("#length"+i).val()

                var data = []
                for(var j = 1; j<=l;j++){
                    var id= "#datact"+i+j;
                    var tieuchi1 = $(id).children().text();                    
                    var luotchon1 = $(id).children().val();
                   
                    data.push({tieuchi:tieuchi1, luotchon:luotchon1});
                
                }
               

                var x= "chart_" +i
                var e = AmCharts.makeChart(x, {
                type: "serial",
                theme: "light",
                handDrawn: !0,
                handDrawScatter: 3,
                legend: {
                    useGraphSettings: !0,
                    markerSize: 12,
                    valueWidth: 0,
                    verticalGap: 0
                },
                dataProvider: data,
                valueAxes: [{
                    minorGridAlpha: .08,
                    minorGridEnabled: !0,
                    position: "bottom",
                    axisAlpha: 0
                }],
                startDuration: 1,
                graphs: [{
                    balloonText: "<span style='font-size:13px;'> [[category]]:<b>[[value]]</b></span>",
                    
                    type: "column",
                    fillAlphas: .8,
                    valueField: "luotchon"
                }],
                rotate: !0,
                categoryField: "tieuchi",
                categoryAxis: {
                    gridPosition: "start"
                }
            });
            $("#"+x).closest(".portlet").find(".fullscreen").click(function() {
                e.invalidateSize()
            })
            }
        };
        
    return {
        init: function() {
           l()
        }
    }
}();
jQuery(document).ready(function() {
    ChartsAmcharts.init()
});